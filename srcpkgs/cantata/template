# Template file for 'cantata'
pkgname=cantata
version=3.2.0
revision=1
build_style=cmake
configure_args="-DENABLE_HTTP_STREAM_PLAYBACK=ON
 -DENABLE_LIBVLC=OFF
 -DENABLE_SIMPLE_MPD_SUPPORT=ON
 -DCMAKE_BUILD_TYPE=None
 -DCMAKE_INSTALL_LIBEXECDIR=/usr/bin"
hostmakedepends="pkg-config qt6-tools qt6-base"
makedepends="qt6-multimedia-devel taglib-devel qt6-svg-devel"
depends="media-player-info avahi qt6-multimedia qt6-svg libmtp libcddb libmusicbrainz5 mpg123 taglib mpd udisks2"
short_desc="Qt client for the music player daemon (MPD)"
maintainer="LockeAnarchist <emanuel@openmailbox.org>"
license="GPL-3.0-or-later"
homepage="https://github.com/nullobsi/cantata"
distfiles="https://github.com/nullobsi/cantata/archive/refs/tags/v${version}.tar.gz"
checksum=bdebab0a781e98f058032374bac5d3375f2a9dcaa2906a6b125d63fb5aae5d17

CXXFLAGS="-Wno-error=sign-compare"

case "$XBPS_TARGET_MACHINE" in
	aarch64*)
		CXXFLAGS+=" -I${XBPS_CROSS_BASE}/usr/include/qt6" ;;
esac
